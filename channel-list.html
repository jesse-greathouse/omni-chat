<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Channel List</title>
    <style>
      :root {
        --bg: #0f1115;
        --fg: #e6e6e6;
        --muted: #9aa0a6;
        --border: #2a2f3a;
        --panel: #141821;
        --tab-bg: #1b2130;
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; margin: 0; background: var(--bg); color: var(--fg);
        font: 13px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
      #wrap { display: grid; grid-template-rows: auto 1fr; height: 100%; }
      #top {
        padding: 8px 12px; border-bottom: 1px solid var(--border); background: var(--panel);
        display: flex; gap: 8px; align-items: center;
      }
      #info { color: var(--muted); }
      #refresh, #closeBtn {
        padding: 6px 10px; border: 1px solid var(--border); background: var(--tab-bg);
        color: var(--fg); border-radius: 6px; cursor: pointer;
      }
      #refresh:disabled { opacity: .6; cursor: not-allowed; }
      #tableWrap { position: relative; overflow: auto; }
      /* centered loading layer */
      #loading {
        position: absolute; inset: 0;
        display: flex; align-items: center; justify-content: center;
        pointer-events: none; /* don't block clicks */
      }
      #loading[hidden] { display: none; }
      .spinner {
        width: 28px; height: 28px; border-radius: 50%;
        border: 3px solid var(--border);
        border-top-color: #9aa0a6; /* subtle contrast */
        animation: spin .8s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
      table { width: 100%; border-collapse: collapse; }
      th, td { padding: 8px 10px; border-bottom: 1px solid var(--border); vertical-align: top; }
      th { text-align: left; color: var(--muted); position: sticky; top: 0; background: var(--panel); }
      .chan-btn {
        border: 1px solid var(--border); background: #0e1320; color: var(--fg);
        border-radius: 6px; padding: 6px 10px; cursor: pointer; text-align: left; width: 100%;
      }
      .chan-btn:hover { border-color: #2f6feb; }
      .topic { color: var(--muted); }
      .empty { color: var(--muted); padding: 12px; }
      th.num, td.num { text-align: right; }
    </style>
  </head>
  <body>
    <div id="wrap">
      <div id="top">
        <button id="refresh">Refresh list</button>
        <div class="spacer" style="flex:1"></div>
        <div id="info">Sorted by users (desc)</div>
        <button id="closeBtn" title="Close window">Close</button>
      </div>
      <div id="tableWrap">
        <div id="loading" hidden aria-hidden="true">
          <div class="spinner" role="status" aria-label="Loading"></div>
        </div>
        <table id="listTable" aria-label="Channel List">
          <thead>
            <tr>
              <th class="num" style="width: 12%;">Users</th>
              <th style="width: 28%;">Channel</th>
              <th>Topic</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
        <div id="empty" class="empty" hidden>No channel data yet. Click “Refresh list”.</div>
      </div>
    </div>
    <script type="module" src="renderer/channel-list.js"></script>
  </body>
</html>
